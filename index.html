<!DOCTYPE html>
<html>
<head>
  <title>jQuery Gallery</title>
   <link rel="stylesheet" href="fancybox/jquery.fancybox.css">
   <link rel="stylesheet" href="stylesheet.css">
   <link href='http://fonts.googleapis.com/css?family=Droid+Serif:400,400italic|Open+Sans:300italic,400italic,400,300' rel='stylesheet' type='text/css'>
   <link href='http://fonts.googleapis.com/css?family=Quicksand:400,700|Droid+Serif:400
   ,400italic' rel='stylesheet' type='text/css'>
   <link href='http://fonts.googleapis.com/css?family=Poiret+One' rel='stylesheet' type='text/css'>
   <link href='http://fonts.googleapis.com/css?family=Oleo+Script:400,700' rel='stylesheet' type='text/css'>
</head>
<body>
  <div class="container clearfix">
    <div class="gallery">
      <h1>Meet Mitz</h1>

     

      <div class="full">
          <!-- first image is viewable to start -->
          <a class="popup" href="images/cat/mitzi-1.jpg"><img src="images/cat/mitzi-1.jpg"></a>

      </div>
      <div class="story story-step1">        
        <p>
          <hr>Hi there, my name is Mitzi.  Every day when my human goes to work, I sit by the window and wonder what it's like to be on the other side.  I listen to the birds chirping, the sounds of distant traffic, and have conversations with the occasional squirrel.
          <hr>
        </p>
      </div>

      <div class="story story-step2">
        <p>
          <hr>I'm only 2 years old, but I have big aspirations to be a traveling cat.  Life is good - I have enough food, my litter box is always clean, and I get a lot of cuddles... but sometimes, I think there must be more beyond these apartment walls!  If only I wasn't so scared to leave my home.
          <hr>
        </p>
      </div>
      <div class="story story-step3">
        <p>
          <hr>I look at photos of far-away places all the time.  Near the top on my list of places to visit would be Amsterdam.  Do you think this box fits me?  I feel like godzilla from here.
          <hr>
        </p>
      </div>
      <div class="story story-step4">
        <p>
          <hr>What a difference it would be to really travel, and to feel a change in the air telling me I'm no longer in Toronto.  I'll spend my days chasing seagulls by the canals, and hop from the roofs of houseboats.  And I know there are shops here where I can get some special varieties of catnip.
          <hr>
        </p>
      </div>
       <div class="story story-step5">
        <p>
          <hr>When I'm ready for my next destination, I'll just get on a train.  I would watch the lush foreign landscapes go by, eating salmon pate and sipping water from the comfort of my window seat.  Just name a destination, and I'm there!
          <hr>
        </p>
      </div>  
      <div class="story story-step6">
        <p>
          <hr>Do you think I have what it takes to make it abroad?  Just look at this pose... my charm is undeniable.  I have big pointy ears, a fluffy tail, and hair between my toes. My human tells me that my grandmother was a Maine Coon, which is where I got my stunning looks.
          <hr>
        </p>
      </div>  
      <div class="previewBar clearfix">
        <span id="panLeft" class="panner" data-scroll-modifier='-1'></span>
        <div class="previews clearfix">
            <a href="#" class="selected" data-full="images/cat/mitzi-1.jpg" data-caption="step1"><img src="images/cat/mitzi-1-small.jpg" /></a>
            <a href="#" data-full="images/cat/mitzi-2.jpg" data-caption="step2"><img src="images/cat/mitzi-2-small.jpg" /></a>
            <a href="#" data-full="images/cat/mitzi-3.jpg" data-caption="step3"><img src="images/cat/mitzi-3-small.jpg" /></a>
            <a href="#" data-full="images/cat/mitzi-4.jpg" data-caption="step4"><img src="images/cat/mitzi-4-small.jpg" /></a>
            <a href="#" data-full="images/cat/mitzi-5.jpg" data-caption="step5"><img src="images/cat/mitzi-5-small.jpg" /></a>
            <a href="#" data-full="images/cat/mitzi-6.jpg" data-caption="step6"><img src="images/cat/mitzi-6-small.jpg" height="75" width="100" /></a>
            
        </div> 
        <span id="panRight" class="panner" data-scroll-modifier='1'></span>
        </div> <!-- previewBar -->
        
      

      
    </div>
  </div>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script src="fancybox/jquery.fancybox.js?v=2.1.4"></script>
  <script src="plugins/jquery.loupe.min.js"></script>
  <script src="plugins/fadeoverimage.js"></script>

  <script>

    $(function() {
      $('.previews a').on('click',function(e){       

        var source = $(this).data('full');      // the link info for the big images are in data-full

        $('.full img').attr('src', source);     // look for images with a parent of class .full, and set their sources to data-full
        $('.popup').attr('href', source);       // the popup attribute is the href, and set the same source as the full image

        $('.selected').removeClass('selected'); // look for things with the selected class and remove them
        $(this).addClass('selected');           // on this item with class of previews a, add a class of selected

        $('.full img').hide().fadeIn(400);      // on click, hide the full image that's already there, then fade in a new one
        
        var caption = $(this).data('caption');
          $('.story').hide();
          $('.story-' + caption).show();

      });


      $('a.popup').on('click', function(e) {
        e.preventDefault();                    // the default when you click on anchor link with href is to open the link in the same window. we have to prevent this with preventDefault
        $.fancybox(this);                   // open the link that's in the a.popup in the fancybox
      });

      // $('selector').loupe({
      //   width: 200, // width of magnifier
      //   height: 150, // height of magnifier
      //   loupe: 'loupe' // css class for magnifier
      // });

      // $('.full img').loupe();


      //Scrolling arrows
      var scrollHandle = 0,
              scrollStep = 5,
              parent = $('.previews');

          //Start the scrolling process
          $(".panner").on("mouseenter", function () {
              var data = $(this).data('scrollModifier'),
                  direction = parseInt(data, 10);        

              $(this).addClass('active');

              startScrolling(direction, scrollStep);
          });

          //Kill the scrolling
          $(".panner").on("mouseleave", function () {
              stopScrolling();
              $(this).removeClass('active');
          });

          //Actual handling of the scrolling
          function startScrolling(modifier, step) {
              if (scrollHandle === 0) {
                  scrollHandle = setInterval(function () {
                      var newOffset = parent.scrollLeft() + (scrollStep * modifier);

                      parent.scrollLeft(newOffset);
                  }, 10);
              }
          }

          function stopScrolling() {
              clearInterval(scrollHandle);
              scrollHandle = 0;
          }

    });


  </script>
</body>
</html>
